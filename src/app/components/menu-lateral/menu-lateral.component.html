<div class="main-container">
  <aside class="sidebar" [class.closed]="isSidebarClosed">
    <div class="sidebar-header">
      <div class="logo">
        <span *ngIf="!isSidebarClosed">BrasilCash</span>
        <span *ngIf="isSidebarClosed">BC</span>
      </div>
      <button class="menu-toggle" (click)="toggleSidebar()" type="button">
        <span class="toggle-icon">{{ isSidebarClosed ? '➤' : '☰' }}</span>
      </button>
    </div>

    <nav>
      <ul>
        <!-- Cadastro -->
        <li>
          <button class="menu-header" type="button" (click)="toggleMenu('cadastro')">
            <span class="material-icons icon">library_add</span>
            <span class="label" *ngIf="!isSidebarClosed">Cadastro</span>
            <span class="arrow" *ngIf="!isSidebarClosed">{{ expandedMenu === 'cadastro' ? '▼' : '▶' }}</span>
          </button>
          <ul *ngIf="expandedMenu === 'cadastro' && !isSidebarClosed" class="submenu">
            <li><a [routerLink]="['filial']" routerLinkActive="active">Filial</a></li>
            <li><a [routerLink]="['fornecedor']" routerLinkActive="active">Fornecedor</a></li>
            <li><a [routerLink]="['forma-pagamento']" routerLinkActive="active">Formas de Pagamento</a></li>
            <li><a [routerLink]="['situacao']" routerLinkActive="active">Status Conta</a></li>
            <li><a [routerLink]="['tipo-duplicata']" routerLinkActive="active">Tipo de Conta a Pagar</a></li>
            <li><a [routerLink]="['tipo-pagamento']" routerLinkActive="active">Tipo de Pagamento</a></li>
            <li><a [routerLink]="['tipo-nota']" routerLinkActive="active">Tipo de Nota</a></li>
          </ul>
        </li>

        <!-- Financeiro -->
        <li>
          <button class="menu-header" type="button" (click)="toggleMenu('financeiro')">
            <span class="material-icons icon">payments</span>
            <span class="label" *ngIf="!isSidebarClosed">Financeiro</span>
            <span class="arrow" *ngIf="!isSidebarClosed">{{ expandedMenu === 'financeiro' ? '▼' : '▶' }}</span>
          </button>
          <ul *ngIf="expandedMenu === 'financeiro' && !isSidebarClosed" class="submenu">
            <li><a [routerLink]="['duplicata']" routerLinkActive="active">Conta a Pagar</a></li>
          </ul>
        </li>

        <!-- Documentos -->
        <li>
          <button class="menu-header" type="button" (click)="toggleMenu('documentos')">
            <span class="material-icons icon">receipt_long</span>
            <span class="label" *ngIf="!isSidebarClosed">Documentos</span>
            <span class="arrow" *ngIf="!isSidebarClosed">{{ expandedMenu === 'documentos' ? '▼' : '▶' }}</span>
          </button>
          <ul *ngIf="expandedMenu === 'documentos' && !isSidebarClosed" class="submenu">
            <li><a [routerLink]="['nota-fiscal']" routerLinkActive="active">Nota Fiscal</a></li>
          </ul>
        </li>

        <!-- Relatórios -->
        <li>
          <button class="menu-header" type="button" (click)="toggleMenu('relatorios')">
            <span class="material-icons icon">analytics</span>
            <span class="label" *ngIf="!isSidebarClosed">Relatórios</span>
            <span class="arrow" *ngIf="!isSidebarClosed">{{ expandedMenu === 'relatorios' ? '▼' : '▶' }}</span>
          </button>
          <ul *ngIf="expandedMenu === 'relatorios' && !isSidebarClosed" class="submenu">
            <li><a [routerLink]="['relatorio-dia']" routerLinkActive="active">Diário</a></li>
            <li><a [routerLink]="['relatorio-filial']" routerLinkActive="active">Contas a Pagar - Filial</a></li>
            <li><a [routerLink]="['protocolo-nota']" routerLinkActive="active">Protocolo - Notas</a></li>
            <li><a [routerLink]="['protocolo-conta-paga']" routerLinkActive="active">Protocolo - Contas</a></li>
            <li><a [routerLink]="['relatorio-personalizado']" routerLinkActive="active">Relatório Personalizado</a></li>
          </ul>
        </li>

        <!-- Consultas -->
        <li>
          <button class="menu-header" type="button" (click)="toggleMenu('consultas')">
            <span class="material-icons icon">search</span>
            <span class="label" *ngIf="!isSidebarClosed">Consultas</span>
            <span class="arrow" *ngIf="!isSidebarClosed">{{ expandedMenu === 'consultas' ? '▼' : '▶' }}</span>
          </button>
          <ul *ngIf="expandedMenu === 'consultas' && !isSidebarClosed" class="submenu">
            <li><a [routerLink]="['consulta-geral-ativas']" routerLinkActive="active">Baixa</a></li>
            <li><a [routerLink]="['consulta-geral']" routerLinkActive="active">Geral</a></li>
          </ul>
        </li>

        <!-- Segurança -->
        <li>
          <button class="menu-header" type="button" (click)="toggleMenu('seguranca')">
            <span class="material-icons icon">admin_panel_settings</span>
            <span class="label" *ngIf="!isSidebarClosed">Segurança</span>
            <span class="arrow" *ngIf="!isSidebarClosed">{{ expandedMenu === 'seguranca' ? '▼' : '▶' }}</span>
          </button>
          <ul *ngIf="expandedMenu === 'seguranca' && !isSidebarClosed" class="submenu">
            <li><a [routerLink]="['usuarios']" routerLinkActive="active">Usuários</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <!-- Logout -->
    <div class="logout-container">
      <a (click)="logout()">
        <span class="material-icons icon">logout</span>
        <span class="label" *ngIf="!isSidebarClosed">Sair</span>
      </a>
    </div>
  </aside>

  <main class="content">
    <router-outlet></router-outlet>
  </main>
</div>
