<div class="relatorio-dia">

  <div style="display: flex; align-items: center; gap: 10px;">
    <h2 style="margin: 0;">Parcelas Previstas</h2>
  </div>

  <div *ngIf="carregando" class="carregando">Carregando...</div>

  <table *ngIf="!carregando && parcelasPrevistas.length > 0">
    <thead>
      <tr>
        <th>Número Nota</th>
        <th>Valor</th>
        <th>Vencimento</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let parcela of parcelasPrevistas">
        <td>{{ parcela.numeroNota }}</td>
        <td>{{ parcela.valor | number:'1.2-2' }}</td>
        <td>{{ parcela.dtVencimento | date:'dd/MM/yyyy' }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!carregando && parcelasPrevistas.length === 0" class="mensagem-vazia">
    Nenhuma parcela prevista encontrada.
  </div>

  <!-- PAGINAÇÃO PROFISSIONAL -->
  <div class="paginacao" *ngIf="!carregando && totalPaginas > 1">

    <button (click)="irParaPagina(0)" [disabled]="pagina === 0">« Primeiro</button>

    <button (click)="paginaAnterior()" [disabled]="pagina === 0">‹</button>

    <button *ngFor="let pg of getPaginasVisiveis()"
            (click)="irParaPagina(pg)"
            [class.active]="pg === pagina">
      {{ pg + 1 }}
    </button>

    <button (click)="proximaPagina()" [disabled]="pagina === totalPaginas - 1">›</button>

    <button (click)="irParaPagina(totalPaginas - 1)"
            [disabled]="pagina === totalPaginas - 1">
      Último »
    </button>

  </div>

  <!-- Total registros -->
  <div *ngIf="!carregando" class="total-registros">
    Total de registros: {{ totalElementos }}
  </div>

  <div *ngIf="erroMsg" class="erro-msg">{{ erroMsg }}</div>

</div>
